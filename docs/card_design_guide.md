# Arcomage Card Design & Power Model Guide

本文档旨在记录 **Citadel (Arcomage)** 卡牌的战力价值模型 (Value Model) 及其设计原理，作为新卡设计、现有卡牌平衡性调整及游戏机制开发的标准化参考。

---

## 💎 核心设计哲学：价值转换与预算制

卡牌设计本质上是**某种资源（能量、行动力、手牌位）**到**另一种资源（墙、塔、产能、破坏力）**的等价转换。

### 1. 预算公式 (The Budget Formula)

每张牌都有一个“净价值分” (Net Value)，其核心公式为：
**`Net Value = Σ(收益积分) - Σ(代价积分)`**

*   **理想状态**：一张平衡的卡牌应处于 **`[-1.5, +1.5]`** 的分值区间内。
*   **超模卡 (Overtuned)**：`Net Value > 0` (玩家赚了)
*   **战略卡 (Strategic/Niche)**：`Net Value < -5` (代价极高，通常用于特定翻盘场景，如 *Quarry's Help* 或 *Shift*)

---

## 📊 积分权重系统 (Point Weights)

该分值系统反映了游戏中不同维度资源的稀缺度与实战价值。

### 🅰️ 输入/代价 (Input Costs)
| 维度 | 积分权重 | 说明 |
| :--- | :--- | :--- |
| **行动开销 (Action)** | `-2.0 pt` | 打出每张牌固定消耗的一次玩家回合机会 |
| **单费消耗 (Resource)** | `-1.0 pt` | 每支付 1 个砖块/宝石/新兵 |
| **副作用-资源失去** | `-0.9 pt` | 例如 "You lose 10 bricks" |
| **副作用-己方减产** | `-3.5 pt` | 破坏己方科技带来的严重负面补偿 |

### 🅱️ 输出/收益 (Output Benefits)
| 维度 | 积分权重 | 说明 |
| :--- | :--- | :--- |
| **高墙 (+Wall)** | `+0.75 pt` | 防御属性，会被普通伤害拦截 |
| **高塔 (+Tower)** | `+0.85 pt` | 核心胜利属性，权重高于墙 |
| **普通伤害 (Damage)** | `+0.65 pt` | 优先被墙拦截，因此价值打折 |
| **塔伤害 (Tower Dmg)**| `+0.90 pt` | 穿墙伤害，具有极高的斩杀价值 |
| **己方增产 (Prod)** | `+3.00 pt` | 科技成长，长期复利收益最高 |
| **敌方减产 (-Prod)** | `+3.50 pt` | 破坏大于建设，且带有不确定性的威慑 |
| **资源获取 (Gain)** | `+0.90 pt` | 直接获取砖块/宝石/新兵 |
| **再来一回合 (Again)**| `+2.00 pt` | 核心神技，直接抵消“行动开销” |
| **手牌流转 (Draw)** | `+0.50 pt` | 抽卡、弃卡带来的策略灵活性 |

---

## 🛡️ 特殊规则与溢价

### 1. 高费溢价 (High Cost Premium)
为了鼓励玩家使用高费大牌并补偿存牌期间的行动损失。
*   **门槛**：费用 > 6 时生效。
*   **计算**：超过的部分获得每点 `+0.08 pt` 的自动补偿。
    *   *例如 20 费大牌会自动获得 (20-6)*0.08 = 1.12 pt 的内置补贴。*

### 2. 条件效果处理 (If/Else Estimation)
对于带有随机性或条件的卡牌（如 "if wall=0, +6 wall"），模型采用**期望预估值**：
*   **二选一**：取两个分支的**平均值** (e.g., 6 vs 3 取 4.5pt)。
*   **战略倾向**：对于极端条件，模型会采用较低的预估，鼓励其作为战略补充存在。

---

## 🛠️ 设计新卡的标准化流程

1.  **确定定位与费用**：选择主色（红/蓝/绿）并预留消费预算。
2.  **计算预算总额**：预算 = `2.0 (行动) + 基础费用 + (费用-6)*0.08`。
3.  **购买效果**：对照权重表，用预算去换取效果，直到积分接近平衡。
4.  **添加负债 (可选)**：如果想做超模牌（比如超高攻击），必须加上副作用（Lose Resource）来“贷款”额度。
5.  **模型验证**：将卡牌效果逻辑输入 `EffectParser` 进行跑分微调。

---

## 📜 案例解析：蓝宝石 (Sapphire) vs 采石场之助 (Quarry's Help)

| 卡名 | 属性 | 积分分析 | 结论 |
| :--- | :--- | :--- | :--- |
| **蓝宝石** | 10费 +11塔 | 代价 12pt vs 收益 10.45pt | **平衡卡 (-1.55)** |
| **采石场之助** | 4费 +7塔 -10砖 | 代价 15pt vs 收益 5.95pt | **战略卡 (-9.05)** |

*注：战力模型并不排除极弱卡的存在，它们通常作为极端的资源出口存在（如将无用的死砖转化为急需的塔命）。*

---
*Last Updated: 2026-03-01*
