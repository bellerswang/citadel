@import"https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@400;500;600;800;900&display=swap";.card{width:130px;height:185px;border-radius:10px;position:relative;cursor:pointer;background:#5c3a21;padding:5px;box-shadow:0 6px #3a2210,0 10px 14px #00000080;transition:all .2s cubic-bezier(.25,.8,.25,1);transform-origin:bottom center;-webkit-user-select:none;user-select:none;display:flex}.card:hover{box-shadow:0 10px #3a2210,0 28px 38px #000c,0 0 28px #ffd70080;z-index:100}.card-border{width:100%;height:100%;display:flex;flex-direction:column;background:#2a1a0f;border-radius:6px;overflow:hidden;border:2px solid #8b5a2b}.card-art{height:45%;width:100%;position:relative;border-bottom:4px solid #4a2f1d;background-size:cover;background-position:center}.card-red .card-art{background-image:linear-gradient(to bottom,rgba(50,0,0,.2),rgba(20,0,0,.6))}.card-blue .card-art{background-image:linear-gradient(to bottom,rgba(0,5,50,.2),rgba(0,2,20,.6))}.card-green .card-art{background-image:linear-gradient(to bottom,rgba(0,40,0,.2),rgba(0,15,0,.6))}.card-enemy-hidden{background:#4a2f1d;border:4px solid #2a1a0f;background-image:radial-gradient(circle,#5c3a21 0%,#2a1a0f 100%);display:flex;justify-content:center;align-items:center;font-family:Cinzel,serif;font-weight:900;font-size:1.2rem;color:gold;text-shadow:0 2px 4px rgba(0,0,0,.5);box-shadow:0 6px #1a0f05,0 10px 15px #00000080;cursor:default}.card-enemy-hidden:hover{transform:none;box-shadow:0 6px #1a0f05,0 10px 15px #00000080}.card-empty{width:130px;height:185px}.card-cost{position:absolute;top:-10px;right:-10px;width:40px;height:40px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-family:Inter,sans-serif;font-weight:900;font-size:1.2rem;z-index:2;color:#fff}.card-red .card-cost{background:#e53935;border:4px solid #b71c1c;box-shadow:0 4px #b71c1c,0 4px 8px #00000080;text-shadow:0 1px 2px rgba(0,0,0,.8)}.card-blue .card-cost{background:#1e88e5;border:4px solid #0d47a1;box-shadow:0 4px #0d47a1,0 4px 8px #00000080;text-shadow:0 1px 2px rgba(0,0,0,.8)}.card-green .card-cost{background:#43a047;border:4px solid #1b5e20;box-shadow:0 4px #1b5e20,0 4px 8px #00000080;text-shadow:0 1px 2px rgba(0,0,0,.8)}.card-text-area{flex-grow:1;background:#fdf2d8;padding:8px;display:flex;flex-direction:column;position:relative;box-shadow:inset 0 0 10px #8b5a2b33}.card-name{font-family:Inter,sans-serif;font-size:.85rem;font-weight:900;color:#4a2f1d;text-align:center;border-bottom:2px solid #d4a373;padding-bottom:4px;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.card-effect{font-family:Inter,sans-serif;font-size:.75rem;font-weight:600;color:#5c3a21;line-height:1.2;text-align:center;display:flex;flex-direction:column;justify-content:center;flex-grow:1}.card-effect p{margin:3px 0}.card-resource-strip{display:flex;justify-content:space-between;align-items:center;padding:4px 8px;font-family:Inter,sans-serif;font-weight:800}.card-resource-strip.color-red{background:#d32f2f;border-top:1px solid #ff5252}.card-resource-strip.color-blue{background:#1976d2;border-top:1px solid #448aff}.card-resource-strip.color-green{background:#388e3c;border-top:1px solid #69f0ae}.card-resource-strip.cannot-afford{filter:grayscale(.8) brightness(.7)}.resource-strip-label{font-size:.65rem;color:#fff;text-transform:uppercase;letter-spacing:.5px}.resource-strip-values{display:flex;align-items:baseline;gap:2px}.resource-strip-owned{font-size:.85rem;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.8)}.cannot-afford .resource-strip-owned{color:#fcc}.resource-strip-sep{font-size:.7rem;color:#fffc}.resource-strip-cost{font-size:.8rem;color:#fff}.menu-container{position:relative;display:flex;flex-direction:column;align-items:flex-end;gap:10px;z-index:50}.menu-items{display:flex;flex-direction:column;gap:8px;animation:slideUpFade .3s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes slideUpFade{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.menu-btn,.menu-toggle-btn{background:#4a2f1d;color:gold;padding:10px 20px;border-radius:20px;cursor:pointer;font-family:Inter,sans-serif;font-weight:800;font-size:1rem;border:4px solid #5c3a21;box-shadow:0 4px #2a1a0f,0 6px 10px #00000080;transition:all .1s ease;display:flex;align-items:center;gap:8px;white-space:nowrap}.menu-btn:hover,.menu-toggle-btn:hover{background:#5c3a21;transform:translateY(-2px);box-shadow:0 6px #2a1a0f,0 8px 15px #0009}.menu-btn:active,.menu-toggle-btn:active{transform:translateY(2px);box-shadow:0 2px #2a1a0f,0 4px 5px #00000080}.menu-toggle-btn{background:#8b5a2b;border-color:#d4a373;font-family:Cinzel,serif;font-weight:900;letter-spacing:1px}.menu-toggle-btn:hover{background:#a06e3b}.htp-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:10000}.htp-modal{background:#2a1a0f;border:4px solid #8b5a2b;border-radius:12px;width:600px;max-width:90vw;max-height:85vh;box-shadow:0 10px 40px #000000e6,inset 0 0 20px #000c;display:flex;flex-direction:column;overflow:hidden}.htp-header{background:#110905;padding:15px 25px;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #5c3a21}.htp-header h2{margin:0;font-family:Cinzel,serif;color:gold;text-shadow:0 2px 4px rgba(0,0,0,.8)}.htp-content{padding:25px;overflow-y:auto;font-family:Inter,sans-serif;color:#e0d0b0}.htp-content section{margin-bottom:20px}.htp-content h3{color:#fca311;border-bottom:1px dashed #5c3a21;padding-bottom:5px;margin-bottom:10px}.htp-content p,.htp-content li{font-size:1rem;line-height:1.5;margin:8px 0}.htp-content ul{list-style:none;padding-left:10px}.htp-dot{display:inline-block;width:12px;height:12px;border-radius:50%;margin-right:6px;vertical-align:middle}.htp-header .close-btn{background:transparent;border:none;color:gold;font-size:1.2rem;font-weight:800;cursor:pointer;transition:color .2s}.htp-header .close-btn:hover{color:#ff4d4d}.collection-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.85);z-index:2000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .2s ease-out}.collection-modal{width:90%;max-width:1200px;height:90vh;background:#2a1a0f;border:6px solid #8b5a2b;border-radius:16px;display:flex;flex-direction:column;box-shadow:0 10px 40px #000c,inset 0 0 20px #00000080;padding:20px;color:gold}.collection-header{display:flex;justify-content:space-between;align-items:center;border-bottom:3px solid #5c3a21;padding-bottom:15px;margin-bottom:15px}.collection-header h2{font-family:Cinzel,serif;margin:0;font-size:2rem;text-shadow:0 3px 0 #1a0f05}.close-btn{background:#8b0000;color:#fff;border:3px solid #4a0000;padding:8px 16px;border-radius:8px;cursor:pointer;font-family:Inter,sans-serif;font-weight:700;font-size:1rem;box-shadow:0 4px #4a0000;transition:all .1s}.close-btn:hover{background:#a00000;transform:translateY(2px);box-shadow:0 2px #4a0000}.collection-controls{display:flex;justify-content:space-between;gap:20px;margin-bottom:20px;flex-wrap:wrap}.search-input{flex-grow:1;max-width:400px;padding:12px 16px;border-radius:8px;border:3px solid #5c3a21;background:#1a0f05;color:#fff;font-family:Inter,sans-serif;font-size:1.1rem;outline:none}.search-input:focus{border-color:gold}.color-filters{display:flex;gap:10px}.filter-btn{background:#4a2f1d;color:#fff;border:2px solid #5c3a21;padding:10px 20px;border-radius:8px;cursor:pointer;font-family:Inter,sans-serif;font-weight:700}.filter-btn:hover{background:#5c3a21}.filter-btn.active{background:#ffd700;color:#2a1a0f;border-color:#ca0}.filter-red.active{background:#e63946;color:#fff;border-color:#a00000}.filter-blue.active{background:#00b4d8;color:#fff;border-color:#005073}.filter-green.active{background:#2a9d8f;color:#fff;border-color:#10403a}.collection-grid{flex-grow:1;overflow-y:auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:30px;padding:30px 10px 10px;background:rgba(0,0,0,.5);border-radius:8px;border:3px solid #4a2f1d}.collection-grid::-webkit-scrollbar{width:12px}.collection-grid::-webkit-scrollbar-track{background:#2a1a0f;border-radius:8px}.collection-grid::-webkit-scrollbar-thumb{background:#5c3a21;border-radius:8px;border:2px solid #2a1a0f}.grid-card-wrapper{display:flex;justify-content:center;transition:transform .2s}.grid-card-wrapper .card:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 10px #3a2210,0 15px 20px #000000b3,0 0 15px #ffd7004d;z-index:10}.no-results{grid-column:1 / -1;text-align:center;padding:50px;font-family:Inter,sans-serif;font-size:1.5rem;color:#8b5a2b}.focused-card-backdrop{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);z-index:3000;display:flex;justify-content:center;align-items:center;animation:fadeIn .15s ease-out;cursor:pointer}.focused-card-container{cursor:default;transform:scale(2.5);transform-origin:center center;animation:popIn .3s cubic-bezier(.175,.885,.32,1.275)}.focused-card-container .card:hover{transform:none}@keyframes popIn{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(2.5)}}.guide-overlay{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1000;pointer-events:auto;display:flex;justify-content:center;align-items:flex-start;padding-top:100px}.guide-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.guide-anchor-ring{position:absolute;width:24px;height:24px;pointer-events:none;z-index:1001;display:flex;justify-content:center;align-items:center;transform:translate(-50%,-10px)}.guide-anchor-ping{width:14px;height:14px;background:#ffd700;border-radius:50%;box-shadow:0 0 15px gold;position:relative}.guide-anchor-ping:after{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;border:2px solid #ffd700;border-radius:50%;animation:ripplePulse 1.8s ease-out infinite}@keyframes ripplePulse{0%{transform:scale(1);opacity:.8}to{transform:scale(3.5);opacity:0}}.guide-anchor-arrow{position:absolute;bottom:24px;font-size:28px;color:gold;text-shadow:0 2px 10px rgba(0,0,0,.8);animation:arrowJump .8s ease-in-out infinite alternate}@keyframes arrowJump{0%{transform:translateY(0)}to{transform:translateY(-8px)}}.guide-step-card{position:relative;z-index:10000;width:520px;background:rgba(14,8,4,.97);border:2px solid #5c3a21;border-radius:14px;box-shadow:0 8px 32px #000000e6,0 0 20px #ffd70026;display:flex;flex-direction:column;overflow:hidden;animation:cardSlideIn .25s ease}@keyframes cardSlideIn{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.guide-step-header{display:flex;justify-content:space-between;align-items:center;padding:14px 18px 10px;border-bottom:1px solid rgba(92,58,33,.7);background:rgba(255,215,0,.05)}.guide-step-title{font-family:Cinzel,serif;font-size:1.15rem;font-weight:700;color:gold;text-shadow:0 2px 6px rgba(0,0,0,.8)}.guide-step-progress{font-family:Inter,sans-serif;font-size:.8rem;color:#ffd7008c;letter-spacing:1px}.guide-step-body{padding:14px 18px;font-family:Inter,sans-serif;font-size:.88rem;line-height:1.65;color:#e8dcc8;min-height:100px;max-height:240px;overflow-y:auto}.guide-step-body p{margin:0 0 10px}.guide-step-body p:last-child{margin-bottom:0}.guide-nav{display:flex;align-items:center;justify-content:space-between;padding:10px 18px 12px;border-top:1px solid rgba(92,58,33,.7);background:rgba(0,0,0,.3);gap:8px}.guide-nav-btn{background:rgba(92,58,33,.5);border:1px solid #5c3a21;color:#e8dcc8;padding:7px 18px;border-radius:6px;font-family:Inter,sans-serif;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .15s;white-space:nowrap;flex-shrink:0}.guide-nav-btn:hover:not(:disabled){background:rgba(92,58,33,.85);border-color:#8a5c35}.guide-nav-btn:disabled{opacity:.3;cursor:default}.guide-nav-btn.primary{background:rgba(255,215,0,.15);border-color:#ffd70080;color:gold}.guide-nav-btn.primary:hover{background:rgba(255,215,0,.3);border-color:gold;box-shadow:0 0 10px #ffd7004d}.guide-dots{display:flex;gap:6px;align-items:center;flex-wrap:wrap;justify-content:center}.guide-dot{width:7px;height:7px;border-radius:50%;background:rgba(255,215,0,.25);cursor:pointer;transition:all .15s;flex-shrink:0}.guide-dot.active{background:#ffd700;box-shadow:0 0 6px #ffd700b3;transform:scale(1.3)}.guide-dot:hover{background:rgba(255,215,0,.6)}.guide-dismiss-hint{text-align:center;font-family:Inter,sans-serif;font-size:.72rem;color:#ffffff40;padding:6px 0 8px;letter-spacing:.5px}.action-log{width:320px;height:200px;overflow-y:auto;display:flex;flex-direction:column;gap:8px;padding-right:6px;padding-left:2px;pointer-events:auto;scrollbar-width:thin;scrollbar-color:rgba(255,215,0,.5) rgba(42,26,20,.5)}.active-card-presentation{pointer-events:none;z-index:1000;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:row;align-items:center;gap:16px}.active-card-effect-log{background:rgba(30,15,8,.95);border:2px solid #5c3a21;border-radius:8px;padding:15px 20px;box-shadow:0 10px 30px #000c,inset 0 0 15px #0009;color:#e2e2e2;min-width:180px;max-width:240px;font-family:Inter,sans-serif;animation:effectLogSlideIn .3s cubic-bezier(.175,.885,.32,1.275) both;flex-shrink:0}@keyframes effectLogSlideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.effect-log-title{font-family:Cinzel,serif;color:gold;font-size:1.1rem;font-weight:700;margin-bottom:8px;border-bottom:1px dashed rgba(255,215,0,.3);padding-bottom:4px;text-shadow:0 2px 4px rgba(0,0,0,.8)}.effect-log-line{font-size:.95rem;line-height:1.5;margin-bottom:4px;text-shadow:0 1px 2px rgba(0,0,0,.8)}.log-hover-card-overlay{animation:cardPopIn .15s cubic-bezier(.25,1.2,.4,1) both}.log-hover-card-overlay .card:hover,.log-hover-card-overlay .card{transform:none!important;box-shadow:0 6px #3a2210,0 10px 14px #00000080;cursor:default}@keyframes cardPopIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.85)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.action-log::-webkit-scrollbar{width:12px}.action-log::-webkit-scrollbar-track{background:rgba(20,10,5,.8);border-radius:6px;border:1px solid rgba(255,215,0,.2)}.action-log::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#bfa040 0%,#876127 100%);border-radius:6px;border:2px solid rgba(20,10,5,.8)}.action-log::-webkit-scrollbar-thumb:hover{background:rgba(255,215,0,.85)}.log-msg{background:rgba(42,26,20,.88);border:1px solid #5c3a21;border-left:4px solid #ffd700;border-radius:8px;padding:10px 16px;text-align:center;font-family:Inter,sans-serif;font-size:.9rem;color:#e2e2e2;animation:logFadeIn .3s ease-out;box-shadow:0 4px 12px #00000080;flex-shrink:0;opacity:var(--base-opacity, 1);transition:background-color .15s ease-out,border-color .15s ease-out,opacity .5s ease-out}.action-log.is-scrolling .log-msg{opacity:1!important}.log-msg.interactive-log:hover{background-color:#3c281ef2;border-color:gold}@keyframes logFadeIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}.log-card-icon{display:inline-block;padding:2px 8px;margin:0 4px;border-radius:4px;font-size:.9em;font-weight:700;cursor:pointer;border:1px solid rgba(255,255,255,.4);box-shadow:0 1px 3px #00000080;text-shadow:1px 1px 2px rgba(0,0,0,.8);transition:transform .1s ease-out}.log-card-icon:hover{transform:scale(1.12);background-color:#ffffff26}.log-card-icon.icon-color-red{background:linear-gradient(135deg,#aa3333,#661111);color:#fcc}.log-card-icon.icon-color-blue{background:linear-gradient(135deg,#3366aa,#113366);color:#cdf}.log-card-icon.icon-color-green{background:linear-gradient(135deg,#33aa55,#116633);color:#cfc}body{margin:0;padding:0;background:#0d0d0d;color:#fff;font-family:Inter,sans-serif}.game-outer-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-image:url(/citadel/assets/bg_main-ba218ae8.png);background-size:cover;background-position:center;background-color:#0006;background-blend-mode:multiply;overflow:hidden}.game-board{width:100%;height:100%;display:flex;flex-direction:column;box-sizing:border-box;padding-top:15px;background:transparent}.top-bar{height:60px;flex-shrink:0;display:flex;align-items:center;justify-content:space-between;padding:0 20px;background:#2a1a14;border-bottom:2px solid #110905;box-shadow:0 4px 10px #000c;z-index:50}.top-bar-side{display:flex;align-items:center;gap:12px;width:300px}.side-left{justify-content:flex-start}.side-right{justify-content:flex-end}.side-name{font-family:Cinzel,serif;font-size:1.1rem;font-weight:700;letter-spacing:2px}.enemy-name{color:#f25c54}.player-name{color:#ffca3a}.battle-avatar-wrapper{position:absolute;top:30px;left:50%;transform:translate(-50%);z-index:100}.avatar-frame{width:110px;height:110px;position:relative;border-radius:12px;border:4px solid #5c3a21;overflow:hidden;box-shadow:0 10px 20px #000000e6,inset 0 0 15px #000;background:#000;flex-shrink:0;transition:transform .2s cubic-bezier(.175,.885,.32,1.275);cursor:help}.avatar-frame:hover{transform:scale(1.1);z-index:1000}.player-frame{border-color:gold;box-shadow:0 0 20px #ffd70040,0 8px 16px #000}.enemy-frame{border-color:#f44;box-shadow:0 0 20px #ff444440,0 8px 16px #000}.avatar-img{width:100%;height:100%;object-fit:cover;display:block}.avatar-glow{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;box-shadow:inset 0 0 20px #000000b3;z-index:2}.player-frame .avatar-glow{background:linear-gradient(135deg,rgba(255,215,0,.15) 0%,transparent 100%)}.enemy-frame .avatar-glow{background:linear-gradient(135deg,rgba(255,68,68,.15) 0%,transparent 100%)}.top-bar-center{display:flex;flex-direction:column;align-items:center}.citadel-title-main{font-family:Cinzel,serif;font-size:2.2rem;font-weight:400;color:gold;margin:0;letter-spacing:4px;text-shadow:0 2px 10px rgba(0,0,0,1);display:flex;align-items:center}@keyframes guideBtnBounce{0%,55%,to{transform:translateY(0)}30%{transform:translateY(-7px)}45%{transform:translateY(-3px)}}.header-flex-wrapper{display:flex;align-items:center;gap:20px;justify-content:center}.guide-btn{background:rgba(255,215,0,.15);border:1.5px solid #ffd700;color:gold;width:26px;height:26px;border-radius:50%;margin-left:12px;cursor:pointer;font-size:.8rem;font-weight:800;display:inline-flex;align-items:center;justify-content:center;transition:all .2s;box-shadow:0 0 8px #ffd70066;animation:guideBtnBounce 1.5s ease-in-out infinite;flex-shrink:0}.guide-btn:hover{background:rgba(255,215,0,.35);border-color:gold;box-shadow:0 0 14px #ffd700b3;animation:none}.turn-counter{font-family:Cinzel,serif;font-size:1rem;font-weight:700;color:#e0d0b0;letter-spacing:1.5px;margin-top:2px;text-shadow:0 2px 4px rgba(0,0,0,.8)}.battlefield{flex-grow:1;display:flex;justify-content:space-between;align-items:flex-end;padding:20px 40px 10px;position:relative;border-bottom:2px solid #110905}.battlefield-center{display:flex;justify-content:center;align-items:flex-end;gap:40px;height:100%;flex:1}.castle-column{display:flex;flex-direction:row;justify-content:center;align-items:flex-end;gap:30px;height:100%;position:relative}.structure-container{display:flex;flex-direction:column;align-items:center;gap:12px;height:100%;justify-content:flex-end}.structure-label{font-family:Cinzel,serif;font-weight:800;font-size:1.1rem;color:#e0d0b0;text-shadow:0 2px 4px rgba(0,0,0,.8);letter-spacing:2px}.fill-bar-container.large-bar{width:60px;height:250px;background:#0a0603;border:3px solid #738090;border-radius:8px;position:relative;overflow:hidden;box-shadow:0 10px 15px #000c,inset 0 0 15px #000000e6}.tower-container.large-bar{border-color:#5d6a78}.wall-container.large-bar{border-color:#4a3c31}.structure-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:Inter,sans-serif;font-weight:900;font-size:1.6rem;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,1),0 0 4px rgba(0,0,0,1);z-index:5}.fill-bar{position:absolute;bottom:0;width:100%;transition:height .6s cubic-bezier(.2,.8,.2,1)}.tower-fill{background:linear-gradient(to right,#0077b6,#00b4d8,#0077b6)}.wall-fill{background:linear-gradient(to right,#4a5568,#a0aec0,#4a5568)}.bar-cap{height:6px;width:100%;background:rgba(255,255,255,.7);box-shadow:0 0 8px #ffffffe6}.center-action-area{width:360px;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10;position:relative}.bottom-hud{display:flex;justify-content:space-between;align-items:flex-end;width:100%;padding:0 20px 10px;box-sizing:border-box}.battlefield-sidebar{height:100%;display:flex;flex-direction:column;justify-content:center;width:130px}.vert-resource-sidebar{display:flex;flex-direction:column;background:rgba(10,6,3,.85);border:3px solid #000;border-radius:12px;padding:15px 10px;box-shadow:0 8px 16px #000c,inset 0 0 10px #0009}.player-sidebar{border-color:gold;margin-right:-20px}.enemy-sidebar{border-color:#f25c54;margin-left:-20px}.vert-res-items{display:flex;flex-direction:column;gap:20px}.vert-res-item{display:flex;flex-direction:column;align-items:center;gap:6px}.vert-res-icon-ring{position:relative;width:70px;height:70px;border-radius:50%;border:3px solid rgba(255,255,255,.2);display:flex;justify-content:center;align-items:center;box-shadow:0 4px 10px #000c,inset 0 2px 5px #fff3;background:rgba(0,0,0,.6)}.vert-res-item{position:relative}.resource-popup-val{position:absolute;top:50%;left:120%;transform:translateY(-50%);pointer-events:none;z-index:2000;font-family:Cinzel,serif;font-weight:900;white-space:nowrap;display:flex;align-items:center}.enemy-sidebar .resource-popup-val{left:auto;right:120%}.res-popup-green{color:#0f8;text-shadow:0 0 10px rgba(0,255,136,.8),0 2px 4px black}.res-popup-blue{color:#0cf;text-shadow:0 0 10px rgba(0,204,255,.8),0 2px 4px black}.res-popup-red{color:#f44;text-shadow:0 0 10px rgba(255,68,68,.8),0 2px 4px black}.res-yield-low{font-size:1.6rem;animation:resFlowLow 2s ease-out forwards}.res-yield-high{font-size:3.2rem;animation:resFlowHigh 2s cubic-bezier(.175,.885,.32,1.275) forwards;filter:brightness(1.2)}@keyframes resFlowLow{0%{transform:translate(0) scale(.5);opacity:0}20%{opacity:1;transform:translate(10px,-20px) scale(1)}to{transform:translate(20px,-60px) scale(1);opacity:0}}@keyframes resFlowHigh{0%{transform:translate(0) scale(0);opacity:0}15%{transform:translate(15px,-40px) scale(1.6);opacity:1}30%{transform:translate(15px,-35px) scale(1.3)}to{transform:translate(25px,-100px) scale(1.1);opacity:0}}.vert-res-icon-ring.ring-red{border-color:#c00;box-shadow:0 0 15px #cc000080,inset 0 0 10px #cc00004d}.vert-res-icon-ring.ring-green{border-color:green;box-shadow:0 0 15px #00800080,inset 0 0 10px #0080004d}.vert-dot{position:absolute;width:100%;height:100%;border-radius:50%;opacity:.7;z-index:1}.vert-res-amount{font-family:Inter,sans-serif;font-weight:900;font-size:2.2rem;color:#fff;text-shadow:2px 2px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,0 4px 6px rgba(0,0,0,.9);z-index:2}.vert-res-prod-box{display:flex;flex-direction:column;align-items:center;background:rgba(0,0,0,.7);border:1px solid rgba(255,255,255,.15);border-radius:6px;padding:4px 8px;width:80%;box-shadow:0 2px 4px #0009}.vert-res-prod-val{font-family:Inter,sans-serif;font-weight:800;font-size:1.2rem;color:#4ade80;text-shadow:0 1px 2px #000}.vert-res-prod-label{font-family:Cinzel,serif;font-size:.75rem;color:#ccc;text-transform:uppercase;letter-spacing:.5px;margin-top:-2px}.horiz-dot{width:14px;height:14px;border-radius:50%;border:1px solid rgba(255,255,255,.8);box-shadow:0 1px 3px #000c}.dot-red{background:radial-gradient(circle at 30% 30%,#ff6b6b,#cc0000)}.dot-blue{background:radial-gradient(circle at 30% 30%,#48cae4,#0077b6)}.dot-green{background:radial-gradient(circle at 30% 30%,#4ade80,#008000)}.res-text{font-family:Inter,sans-serif;text-transform:capitalize}.res-text b{color:#fff}.res-arrow{color:#888;font-size:1rem;margin:0 4px}.bottom-hud.center-hand{display:flex;justify-content:center;align-items:flex-end;width:100%;position:relative;pointer-events:none}.mockup-hand-row{z-index:20;display:flex;justify-content:center;align-items:flex-end;overflow:visible;pointer-events:auto}.bottom-hud-menu-wrapper{position:absolute;right:20px;bottom:20px;z-index:1000;pointer-events:auto}.player-hand-flat{display:flex;justify-content:center;align-items:center;gap:6px}.hand-card-wrapper{position:relative;width:130px;height:185px;transition:transform .2s,z-index 0s}.hand-card-inner{position:relative}.hand-card-wrapper:hover,.hand-card-wrapper.is-focused{z-index:2000!important}.hand-card-wrapper:hover .hand-card-inner,.hand-card-wrapper.is-focused .hand-card-inner{transform:translateY(-90px) scale(1.5);transition:transform .2s cubic-bezier(.25,1,.5,1)}.hand-card-inner .card{box-shadow:0 4px 10px #000c,0 0 5px #00000080;border-radius:8px}.menu-container{position:absolute;bottom:15px;right:15px;z-index:200}@keyframes vfxShakeLight{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}@keyframes vfxShakeMedium{0%,to{transform:translate(0)}25%{transform:translate(-5px) rotate(-1deg)}75%{transform:translate(5px) rotate(1deg)}}@keyframes vfxShakeHeavy{0%,to{transform:translate(0)}25%{transform:translate(-10px) translateY(-5px) rotate(-3deg)}75%{transform:translate(10px) translateY(5px) rotate(3deg)}}.vfx-loss-light{animation:vfxShakeLight .3s cubic-bezier(.36,.07,.19,.97) both}.vfx-loss-medium{animation:vfxShakeMedium .4s cubic-bezier(.36,.07,.19,.97) both;filter:drop-shadow(0 0 10px rgba(255,0,0,.5))}.vfx-loss-heavy{animation:vfxShakeHeavy .5s cubic-bezier(.36,.07,.19,.97) both;filter:brightness(1.2) drop-shadow(0 0 20px rgba(255,0,0,.9))}.vfx-gain-light{animation:vfxShakeLight .3s cubic-bezier(.36,.07,.19,.97) both;filter:drop-shadow(0 0 5px rgba(0,255,100,.3))}.vfx-gain-medium{animation:vfxShakeMedium .4s cubic-bezier(.36,.07,.19,.97) both;filter:drop-shadow(0 0 10px rgba(0,255,100,.6))}.vfx-gain-heavy{animation:vfxShakeMedium .5s cubic-bezier(.36,.07,.19,.97) both;filter:brightness(1.2) drop-shadow(0 0 20px rgba(100,255,150,.9))}.slash-overlay{position:absolute;top:-20px;right:-20px;bottom:-20px;left:-20px;z-index:20;pointer-events:none;opacity:0}@keyframes slashEffectMedium{0%{clip-path:polygon(0 0,0 0,0 0,0 0);opacity:1;transform:scale(1)}50%{clip-path:polygon(100% 0,100% 5%,0 100%,0 95%);opacity:1;transform:scale(1.05)}to{clip-path:polygon(100% 95%,100% 100%,100% 100%,100% 95%);opacity:0;transform:scale(1.1)}}@keyframes slashEffectHeavy{0%{clip-path:polygon(100% 0,100% 0,100% 0,100% 0);opacity:1;transform:scale(1)}50%{clip-path:polygon(0 0,0 10%,100% 100%,100% 90%);opacity:1;transform:scale(1.05)}to{clip-path:polygon(0 90%,0 100%,0 100%,0 90%);opacity:0;transform:scale(1.1)}}.vfx-loss-medium .slash-overlay{animation:slashEffectMedium .3s ease-out forwards;background:linear-gradient(135deg,white,yellow)}.vfx-loss-heavy .slash-overlay{animation:slashEffectHeavy .4s ease-out forwards;background:linear-gradient(225deg,white,orange,red);filter:blur(2px) drop-shadow(0 0 10px red)}@keyframes resPopUp{0%,to{transform:scale(1)}50%{transform:scale(1.4)}}.vfx-res-gain,.vfx-res-loss{animation:resPopUp .3s ease-out;z-index:100;position:relative}.vfx-text-gain-light{color:#5f5!important}.vfx-text-gain-medium{color:#5f5!important;text-shadow:0 0 5px #55ff55;font-weight:900}.vfx-text-gain-heavy{color:#afa!important;text-shadow:0 0 10px #55ff55;font-weight:900}.vfx-text-loss-light{color:#f55!important}.vfx-text-loss-medium{color:#f55!important;text-shadow:0 0 5px #ff5555;font-weight:900}.vfx-text-loss-heavy{color:#faa!important;text-shadow:0 0 10px #ff5555;font-weight:900}.floating-number{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.8rem;font-weight:900;pointer-events:none;z-index:100;font-family:Cinzel,serif}.floating-number.positive{color:#5f5;text-shadow:0 2px 4px rgba(0,0,0,1),0 0 10px #00ff00}.floating-number.negative{color:#f55;text-shadow:0 2px 4px rgba(0,0,0,1),0 0 10px #ff0000}.floating-number.intensity-light{animation:floatUpLight 1.5s cubic-bezier(.2,.8,.2,1) forwards}.floating-number.intensity-medium{font-size:2.8rem;animation:floatUpMed 1.5s cubic-bezier(.2,.8,.2,1) forwards;z-index:105}.floating-number.intensity-heavy{font-size:4rem;animation:floatUpHeavy 2s cubic-bezier(.2,.8,.2,1) forwards;z-index:110;filter:drop-shadow(0 0 10px currentColor)}@keyframes floatUpLight{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}10%{transform:translate(-50%,-100%) scale(1.2);opacity:1}to{transform:translate(-50%,-200%) scale(1);opacity:0}}@keyframes floatUpMed{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}15%{transform:translate(-50%,-120%) scale(1.5);opacity:1}to{transform:translate(-50%,-280%) scale(1);opacity:0}}@keyframes floatUpHeavy{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}10%{transform:translate(-50%,-100%) scale(2);opacity:1;font-weight:900}to{transform:translate(-50%,-350%) scale(1);opacity:0}}.turn-banner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:999;text-align:center;animation:turnBannerAnim 1.6s ease-in-out forwards}.turn-banner-text{font-family:Cinzel,serif;font-size:3.5rem;font-weight:900;letter-spacing:.12em;text-shadow:0 0 30px currentColor,0 4px 8px rgba(0,0,0,.9);padding:12px 40px;border-radius:8px;border:2px solid currentColor;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.turn-banner-text.player-color{color:gold;background:rgba(20,10,0,.75);border-color:gold;box-shadow:0 0 40px #ffd70080}.turn-banner-text.enemy-color{color:#f44;background:rgba(20,0,0,.75);border-color:#f44;box-shadow:0 0 40px #ff444480}@keyframes turnBannerAnim{0%{opacity:0;transform:translate(-50%,-50%) scale(.7)}15%{opacity:1;transform:translate(-50%,-50%) scale(1.05)}30%{opacity:1;transform:translate(-50%,-50%) scale(1)}75%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.9)}}.log-turn-header{font-family:Cinzel,serif;color:gold;font-size:.78rem;font-weight:700;text-align:center;letter-spacing:.1em;padding:4px 0 2px;border-bottom:1px solid rgba(255,215,0,.25);opacity:.9;margin-bottom:2px}.player-hand-flat.enemy-turn .hand-card-wrapper{filter:grayscale(.75) brightness(.55);transition:filter .4s ease;cursor:not-allowed}.player-hand-flat.enemy-turn .hand-card-wrapper:hover{filter:grayscale(.3) brightness(.8);transition:filter .2s ease}.combat-history-sidebar{position:absolute;left:20px;bottom:15px;width:160px;height:185px;background:rgba(15,8,4,.95);border:2.5px solid #5c3a21;border-radius:12px;display:flex;flex-direction:column;pointer-events:auto;box-shadow:0 4px 15px #000c,inset 0 0 15px #0009;z-index:10;overflow:hidden}.combat-history-header{background:rgba(0,0,0,.6);color:gold;font-family:Cinzel,serif;font-weight:700;text-align:center;padding:4px 0;border-bottom:2px solid #5c3a21;font-size:.8rem;flex-shrink:0;text-shadow:0 1px 2px #000}.combat-history-scroll{flex:1;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:8px}.combat-history-scroll::-webkit-scrollbar{width:6px}.combat-history-scroll::-webkit-scrollbar-track{background:rgba(0,0,0,.3)}.combat-history-scroll::-webkit-scrollbar-thumb{background:#5c3a21;border-radius:3px}.history-entry{font-family:Inter,sans-serif;font-size:.75rem;line-height:1.3;background:rgba(0,0,0,.4);padding:6px;border-radius:4px;border-left:3px solid #666}.history-player{border-left-color:gold}.history-enemy{border-left-color:#f25c54}.history-actor{color:#ccc;margin-bottom:3px}.history-actor b{color:#fff}.card-action-overlay{position:absolute;top:-30px;left:50%;transform:translate(-50%);width:155%;height:60px;background:none;display:flex;flex-direction:row;justify-content:space-between;align-items:center;z-index:2000;pointer-events:none;animation:actionFlyUp .2s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes actionFlyUp{0%{opacity:0;transform:translate(-50%,10px)}to{opacity:1;transform:translate(-50%)}}.action-menu-btn{pointer-events:auto;width:80px;height:48px;border-radius:8px;border:2px solid rgba(255,255,255,.3);font-family:Cinzel,serif;font-weight:900;font-size:1.1rem;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);display:flex;justify-content:center;align-items:center;text-shadow:0 2px 4px rgba(0,0,0,.5);letter-spacing:1px;position:relative;overflow:hidden}.btn-play{border-color:gold;box-shadow:0 4px #8a6d00,0 6px 12px #00000080}.btn-play:hover:not(:disabled){background:#ffea70;transform:translateY(-2px);box-shadow:0 6px #8a6d00,0 8px 15px #0009}.btn-play:active:not(:disabled){transform:translateY(2px);box-shadow:0 2px #8a6d00,0 4px 8px #00000080}.btn-play:disabled{background:#444;border-color:#666;color:#888;cursor:not-allowed;opacity:.6;box-shadow:none}.btn-discard{background:#8b0000;color:#fcc;border-color:#f44;box-shadow:0 4px #4a0000,0 6px 12px #00000080}.btn-discard:hover{background:#a30000;color:#fff;transform:translateY(-2px);box-shadow:0 6px #4a0000,0 8px 15px #0009}.btn-discard:active{transform:translateY(2px);box-shadow:0 2px #4a0000,0 4px 8px #00000080}.game-over-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.85);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;justify-content:center;align-items:center;z-index:5000;animation:fadeInFast .5s ease-out}.game-over-card{background:#1a1005;border:3px solid #5c3a21;padding:40px 60px;border-radius:20px;text-align:center;box-shadow:0 0 50px #000,inset 0 0 30px #ffd7001a;max-width:500px;width:90%;transform:scale(1);animation:popIn .4s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes popIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.game-over-title{font-family:Cinzel,serif;font-size:3.5rem;margin-bottom:30px;letter-spacing:.1em}.game-over-title.win{color:gold;text-shadow:0 0 20px rgba(255,215,0,.6)}.game-over-title.lose{color:#f44;text-shadow:0 0 20px rgba(255,68,68,.6)}.game-over-stats{margin:20px 0 40px;display:flex;flex-direction:column;gap:15px}.stat-row{display:flex;justify-content:space-between;font-family:Inter,sans-serif;font-size:1.25rem;border-bottom:1px solid rgba(92,58,33,.5);padding-bottom:8px}.stat-label{color:#8a6d4d;font-weight:400}.stat-value{color:#e6ccb2;font-weight:700;font-family:Cinzel,serif}.restart-btn{background:linear-gradient(135deg,#5c3a21,#3d2616);color:gold;border:2px solid #ffd700;padding:15px 40px;font-family:Cinzel,serif;font-weight:800;font-size:1.2rem;border-radius:12px;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px #00000080;letter-spacing:.1em}.restart-btn:hover{background:linear-gradient(135deg,#7a4d2c,#4d301c);transform:translateY(-3px);box-shadow:0 8px 25px #ffd70033}.restart-btn:active{transform:translateY(1px)}.hand-card-wrapper.is-focused{z-index:1500!important}.hand-card-wrapper.is-focused .hand-card-inner{transform:translateY(-90px) scale(1.5)}.tower-fill:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(to bottom,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);animation:energyFlow 2s linear infinite}@keyframes energyFlow{0%{transform:translateY(100%)}to{transform:translateY(-100%)}}.tower-victory-near{background:linear-gradient(to top,#44ccff,#ffffff)!important;box-shadow:0 0 25px #ffd700b3;animation:victoryPulse 1.2s ease-in-out infinite alternate}@keyframes victoryPulse{0%{filter:brightness(1) saturate(1);box-shadow:0 0 10px gold}to{filter:brightness(1.4) saturate(1.5);box-shadow:0 0 30px gold}}.tower-danger{background:linear-gradient(to top,#8b0000,#ff4444)!important;animation:lowHealthShudder .15s infinite,dangerFlicker .8s infinite}@keyframes lowHealthShudder{0%{transform:translate(0)}25%{transform:translate(-1.5px)}75%{transform:translate(1.5px)}to{transform:translate(0)}}@keyframes dangerFlicker{0%,to{opacity:1;filter:contrast(1.2)}50%{opacity:.7;filter:contrast(1.5)}}.history-effect{color:#a8cc88;white-space:pre-wrap}
